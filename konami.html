<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="import" href="./node_modules/x-nes/dist/x-nes.html">
    <title>Konami Code</title>

<!-- STYLE -->
    <style>
        h1 {
            height: 30vh;
            margin-bottom: 0;
            padding-bottom: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        x-nes {
            width: 100vw;
            display: flex;
            justify-content: center;
            align-content: center;
            /*width: 100%;*/
        }
        .gradient-color {
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 6rem;
            font-weight:  100;
            letter-spacing: 2px;
            text-align: center;
            color: #f35626;
            background-image: -webkit-linear-gradient(92deg, #f35626, #feab3a);
            -webkit-background-clip: text;
            /*-webkit-text-fill-color: transparent;*/
            -webkit-animation: hue 10s infinite linear, fadein 2s;
        }

        @keyframes fadein {
            from { opacity: 0; }
            to   { opacity: 1; }
        }

         /*Safari, Chrome and Opera > 12.1 */
        @-webkit-keyframes fadein {
            from { opacity: 0; }
            to   { opacity: 1; }
        }

        @-webkit-keyframes hue {
            from {
                -webkit-filter: hue-rotate(0deg);
            }
            to {
                -webkit-filter: hue-rotate(-360deg);
            }
        }
    </style>

</head>

<!-- START OF BODY -->
<body>
<h2>Enter Konami Code</h2>

<audio id="mysoundclip" preload="none">
    <source src="audio/thx-sound-test.wav" type="audio/wav">
</audio>

<div></div>
<!--<x-nes src='roms/Contra.nes'>-->

<!-- SCRIPTS -->
<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
<script>
    "use strict";


    function konami(fn) {
        var input = "";
        var pattern = "3838404037393739666513";
        $(document).keydown(function(e) {
            input += e.keyCode;
            if (input.indexOf(pattern) !== -1) {
                fn();
                input = "";
            }
        });
    }

    function gradius(fn) {
        var input = "";
        var pattern = "383840403739666513";
        $(document).keydown(function(e) {
            input += e.keyCode;
            if (input.indexOf(pattern) !== -1) {
                fn();
                input = "";
            }
        });
    }
    $(document).ready(function() {
        gradius(function() {
            $("div").prepend("<h1> GRADIUS II</h1>" + "<x-nes src='roms/gradiusii.nes'>");
            $("h1").addClass('gradient-color');
            $('*').css('background', 'black');

            alert("Gradius II!");
            $('x-nes').trigger('play');
        });
    });

    $(document).ready(function() {
        konami(function() {
            $("div").prepend("<h1> Contra </h1>" + "<x-nes src='roms/Contra.nes'>");
            $("h1").addClass('gradient-color');
            $('*').css('background', 'black');

            alert("LETS PLAY!");
            $('x-nes').trigger('play').addClass('nes-fullscreen');
        });
    });
</script>


</body>
</html>